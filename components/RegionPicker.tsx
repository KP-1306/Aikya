'use client';import { useState, useEffect } from 'react';import { setRegionPref, getRegionPref } from '@/lib/region';export default function RegionPicker(){const[open,setOpen]=useState(false);const[country,setCountry]=useState('IN');const[state,setState]=useState('Delhi');const[skipped,setSkipped]=useState(false);useEffect(()=>{const pref=getRegionPref();if(!pref.state)setOpen(true);},[]);if(!open||skipped)return null;return(<div className='fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4'><div className='card max-w-md w-full p-5'><h3 className='text-lg font-semibold mb-2'>Help us show good news around you</h3><p className='text-sm text-neutral-600 mb-4'>We only use your state to personalize your feed. Not your exact location.</p><div className='grid grid-cols-2 gap-3'><div><label className='text-xs text-neutral-500'>Country</label><select value={country} onChange={e=>setCountry(e.target.value)} className='w-full border rounded-xl px-3 py-2'><option value='IN'>India</option><option value='US'>United States</option><option value='GB'>United Kingdom</option></select></div><div><label className='text-xs text-neutral-500'>State/UT</label><input value={state} onChange={e=>setState(e.target.value)} className='w-full border rounded-xl px-3 py-2' placeholder='e.g., Delhi'/></div></div><div className='flex gap-3 mt-4 justify-end'><button className='px-3 py-2' onClick={()=>{setSkipped(true);setOpen(false);}}>Skip for now</button><button className='bg-brand text-white rounded-xl px-4 py-2' onClick={()=>{setRegionPref({country,state});setOpen(false);location.reload();}}>Continue with my state</button></div></div></div>); }